   Compiling api v0.4.4 (/home/sat/projects/decent-cloud/api)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 21.24s
────────────
 Nextest run ID 6a146825-66bd-4484-b7e9-179891253674 with nextest profile: default
    Starting 1486 tests across 20 binaries
        PASS [   0.014s] (   1/1486) api chatwoot::tests::test_account_id_parse_invalid
        PASS [   0.015s] (   2/1486) api chatwoot::hmac::tests::test_identity_hash_different_secrets
        PASS [   0.014s] (   3/1486) api chatwoot::tests::test_articles_list_response_deserialize
        PASS [   0.014s] (   4/1486) api chatwoot::integration::tests::test_generate_secure_password_meets_requirements
        PASS [   0.014s] (   5/1486) api chatwoot::tests::test_help_center_article_clone_and_eq
        PASS [   0.015s] (   6/1486) api chatwoot::tests::test_create_article_response_deserialize
        PASS [   0.015s] (   7/1486) api chatwoot::integration::tests::test_generate_secure_password_is_random
        PASS [   0.015s] (   8/1486) api chatwoot::hmac::tests::test_generate_identity_hash
        PASS [   0.015s] (   9/1486) api chatwoot::tests::test_chatwoot_client_from_env_missing_vars
        PASS [   0.016s] (  10/1486) api chatwoot::integration::tests::test_generate_portal_slug_long_name
        PASS [   0.016s] (  11/1486) api chatwoot::hmac::tests::test_identity_hash_different_inputs
        PASS [   0.016s] (  12/1486) api chatwoot::hmac::tests::test_identity_hash_deterministic
        PASS [   0.018s] (  13/1486) api chatwoot::integration::tests::test_generate_portal_slug_special_chars
        PASS [   0.018s] (  14/1486) api chatwoot::tests::test_create_article_request_serialize
        PASS [   0.022s] (  15/1486) api chatwoot::integration::tests::test_generate_portal_slug_basic
        PASS [   0.015s] (  16/1486) api chatwoot::tests::test_profile_response_deserialize
        PASS [   0.015s] (  17/1486) api chatwoot::tests::test_portals_response_empty
        PASS [   0.017s] (  18/1486) api chatwoot::tests::test_help_center_article_serialize
        PASS [   0.017s] (  19/1486) api chatwoot::tests::test_platform_client_is_configured
        PASS [   0.017s] (  20/1486) api chatwoot::tests::test_platform_client_from_env_missing_vars
        PASS [   0.017s] (  21/1486) api chatwoot::tests::test_portals_response_deserialize
        PASS [   0.016s] (  22/1486) api chatwoot::tests::test_update_article_request_serialize
        PASS [   0.018s] (  23/1486) api chatwoot::tests::test_help_center_article_deserialize
        PASS [   0.184s] (  24/1486) api chatwoot::tests::test_chatwoot_client_from_env_valid
        PASS [   0.183s] (  25/1486) api chatwoot::tests::test_platform_client_from_env_valid
        PASS [   6.515s] (  26/1486) api database::accounts::tests::test_admin_set_account_email_nonexistent
        PASS [   6.524s] (  27/1486) api database::accounts::tests::test_create_email_verification_token
        PASS [   6.547s] (  28/1486) api database::accounts::tests::test_admin_delete_account_with_oauth
        PASS [   6.381s] (  29/1486) api database::accounts::tests::test_create_oauth_account_duplicate_external_id
        PASS [   6.553s] (  30/1486) api database::accounts::tests::test_create_account
        PASS [   6.569s] (  31/1486) api database::accounts::tests::test_admin_set_account_email
        PASS [   6.608s] (  32/1486) api database::accounts::tests::test_add_account_key
        PASS [   6.597s] (  33/1486) api database::accounts::tests::test_check_nonce_exists
        PASS [   6.606s] (  34/1486) api database::accounts::tests::test_cannot_disable_last_key
        PASS [   6.606s] (  35/1486) api database::accounts::tests::test_create_email_verification_token_expires
        PASS [   6.640s] (  36/1486) api database::accounts::tests::test_admin_delete_account
        PASS [   6.639s] (  37/1486) api database::accounts::tests::test_admin_delete_account_with_offerings_and_profile
        PASS [   6.476s] (  38/1486) api database::accounts::tests::test_create_oauth_account
        PASS [   6.632s] (  39/1486) api database::accounts::tests::test_count_accounts
        PASS [   6.659s] (  40/1486) api database::accounts::tests::test_admin_set_account_email_clear
        PASS [   6.712s] (  41/1486) api database::accounts::tests::test_admin_delete_account_nonexistent
        PASS [   6.746s] (  42/1486) api database::accounts::tests::test_create_oauth_linked_account_duplicate_username
        PASS [   6.778s] (  43/1486) api database::accounts::tests::test_ensure_account_for_pubkey_handles_username_collision
        PASS [   6.865s] (  44/1486) api database::accounts::tests::test_create_oauth_linked_account
        PASS [   6.850s] (  45/1486) api database::accounts::tests::test_create_oauth_linked_account_transaction_rollback
        PASS [   6.794s] (  46/1486) api database::accounts::tests::test_ensure_account_for_pubkey_returns_existing
        PASS [   6.806s] (  47/1486) api database::accounts::tests::test_get_account_by_email
        PASS [   6.799s] (  48/1486) api database::accounts::tests::test_get_account_by_email_not_found
        PASS [   6.852s] (  49/1486) api database::accounts::tests::test_ensure_account_for_pubkey_creates_new_account
        PASS [   6.899s] (  50/1486) api database::accounts::tests::test_disabled_key_cannot_lookup_account
        PASS [   6.929s] (  51/1486) api database::accounts::tests::test_create_oauth_linked_account_queues_welcome_email
        PASS [   6.840s] (  52/1486) api database::accounts::tests::test_get_account_by_username
        PASS [   6.955s] (  53/1486) api database::accounts::tests::test_disable_account_key
        PASS [   6.917s] (  54/1486) api database::accounts::tests::test_get_account_with_keys_by_public_key_includes_email_and_verification_status
        PASS [   6.914s] (  55/1486) api database::accounts::tests::test_get_account_with_keys_by_public_key_includes_is_admin
        PASS [   6.905s] (  56/1486) api database::accounts::tests::test_get_account_with_keys_includes_email_and_verification_status
        PASS [   6.985s] (  57/1486) api database::accounts::tests::test_get_account_with_keys
        PASS [   7.570s] (  58/1486) api database::accounts::tests::test_get_oauth_account
        PASS [   7.702s] (  59/1486) api database::accounts::tests::test_get_account_with_keys_includes_is_admin
        PASS [   7.529s] (  60/1486) api database::accounts::tests::test_list_all_accounts_includes_admin_status
        PASS [   7.630s] (  61/1486) api database::accounts::tests::test_get_oauth_account_by_provider_and_external_id_not_found
        PASS [   7.598s] (  62/1486) api database::accounts::tests::test_list_admins
        PASS [   7.646s] (  63/1486) api database::accounts::tests::test_get_oauth_account_by_provider_and_external_id
        PASS [   7.646s] (  64/1486) api database::accounts::tests::test_get_oauth_account_not_found
        PASS [   7.525s] (  65/1486) api database::accounts::tests::test_max_keys_limit
        PASS [   7.489s] (  66/1486) api database::accounts::tests::test_oauth_account_with_keys_has_verified_email
        PASS [   7.678s] (  67/1486) api database::accounts::tests::test_is_admin_migration
        PASS [   7.507s] (  68/1486) api database::accounts::tests::test_oauth_linking_to_existing_account_sets_email_verified
        PASS [   7.550s] (  69/1486) api database::accounts::tests::test_oauth_account_creation_sets_email_verified
        PASS [   7.661s] (  70/1486) api database::accounts::tests::test_list_all_accounts
        PASS [   7.674s] (  71/1486) api database::accounts::tests::test_list_admins_empty
        PASS [   7.641s] (  72/1486) api database::accounts::tests::test_list_all_accounts_pagination
        PASS [   0.315s] (  73/1486) api database::agent_delegations::export_bindings_agentstatus
        PASS [   0.009s] (  74/1486) api database::agent_delegations::tests::test_permission_json
        PASS [   0.010s] (  75/1486) api database::agent_delegations::tests::test_permission_roundtrip
        PASS [   0.400s] (  76/1486) api database::agent_delegations::export_bindings_agentdelegation
        PASS [   0.133s] (  77/1486) api database::agent_pools::export_bindings_agentpool
        PASS [   0.168s] (  78/1486) api database::agent_pools::export_bindings_agentpoolwithstats
        PASS [   0.149s] (  79/1486) api database::agent_pools::export_bindings_setuptoken
        PASS [   8.756s] (  80/1486) api database::accounts::tests::test_get_latest_verification_token_time
        PASS [  11.816s] (  81/1486) api database::accounts::tests::test_set_admin_status_case_insensitive
        PASS [  13.195s] (  82/1486) api database::accounts::tests::test_oauth_session_key_can_lookup_account
        PASS [  13.224s] (  83/1486) api database::accounts::tests::test_resend_verification_rate_limit
        PASS [  13.087s] (  84/1486) api database::accounts::tests::test_verify_email_token_success
        PASS [  13.116s] (  85/1486) api database::accounts::tests::test_verify_email_token_already_used
        PASS [  13.291s] (  86/1486) api database::accounts::tests::test_signature_audit_cleanup
        PASS [  13.321s] (  87/1486) api database::accounts::tests::test_set_admin_status_nonexistent_account
        PASS [  13.349s] (  88/1486) api database::accounts::tests::test_set_admin_status_grant
        PASS [   0.029s] (  89/1486) api database::contracts::export_bindings_contract
        PASS [  13.297s] (  90/1486) api database::accounts::tests::test_verify_email_token_invalid
        PASS [  13.355s] (  91/1486) api database::accounts::tests::test_username_search_is_case_insensitive
        PASS [  12.733s] (  92/1486) api database::agent_pools::tests::test_list_agent_pools_with_stats_offerings_count
        PASS [  13.346s] (  93/1486) api database::accounts::tests::test_usernames_preserve_case_but_unique_case_insensitive
        PASS [   0.026s] (  94/1486) api database::contracts::export_bindings_contractusage
        PASS [   0.027s] (  95/1486) api database::contracts::tests::test_calculate_prorated_refund_90_percent_remaining
        PASS [  13.343s] (  96/1486) api database::accounts::tests::test_verify_email_token_expired
        PASS [   0.026s] (  97/1486) api database::contracts::tests::test_calculate_prorated_refund_full_refund_before_service_start
        PASS [   0.023s] (  98/1486) api database::contracts::tests::test_calculate_prorated_refund_half_used
        PASS [   0.017s] (  99/1486) api database::contracts::tests::test_calculate_prorated_refund_missing_end_timestamp
        PASS [   0.018s] ( 100/1486) api database::contracts::tests::test_calculate_prorated_refund_no_refund_after_end
        PASS [  12.361s] ( 101/1486) api database::bandwidth::tests::test_bandwidth_history
        PASS [   0.015s] ( 102/1486) api database::contracts::tests::test_calculate_prorated_refund_service_never_started
        PASS [  13.465s] ( 103/1486) api database::accounts::tests::test_set_admin_status_revoke
        PASS [  12.764s] ( 104/1486) api database::agent_pools::tests::test_offerings_count_explicit_override_auto_match
        PASS [  14.470s] ( 105/1486) api database::bandwidth::tests::test_get_provider_bandwidth_stats
        PASS [  13.927s] ( 106/1486) api database::contracts::tests::test_cancel_contract_icpay_refund_calculation
        PASS [  14.091s] ( 107/1486) api database::chatwoot::tests::test_mark_sla_breached
        PASS [  14.061s] ( 108/1486) api database::contracts::tests::test_cancel_contract_fails_for_non_cancellable_statuses
        PASS [  14.207s] ( 109/1486) api database::contracts::tests::test_add_provisioning_details_extracts_gateway_fields
        PASS [  14.120s] ( 110/1486) api database::contracts::tests::test_cancel_contract_icpay_with_released_amount
        PASS [  14.143s] ( 111/1486) api database::contracts::tests::test_cancel_contract_icpay_no_payment_id
        PASS [  14.427s] ( 112/1486) api database::chatwoot::tests::test_insert_chatwoot_message_event
        PASS [  14.114s] ( 113/1486) api database::contracts::tests::test_cancel_contract_invalid_status
        PASS [  14.446s] ( 114/1486) api database::chatwoot::tests::test_get_response_time_distribution_no_data
        PASS [  14.527s] ( 115/1486) api database::chatwoot::tests::test_get_provider_avg_response_time_no_data
        PASS [  14.240s] ( 116/1486) api database::contracts::tests::test_add_provisioning_details_persists_connection_info
        PASS [  14.492s] ( 117/1486) api database::chatwoot::tests::test_get_provider_response_metrics_no_data
        PASS [  14.394s] ( 118/1486) api database::chatwoot::tests::test_insert_chatwoot_message_event_duplicate
        PASS [  14.333s] ( 119/1486) api database::contracts::tests::test_add_provisioning_details_handles_missing_gateway_fields
        PASS [  14.356s] ( 120/1486) api database::contracts::tests::test_cancel_active_contract_with_prorated_refund
        PASS [  14.522s] ( 121/1486) api database::contracts::tests::test_cancel_contract_not_found_includes_hex_id
        PASS [  13.256s] ( 122/1486) api database::contracts::tests::test_create_rental_request_calculates_price
        PASS [  13.190s] ( 123/1486) api database::contracts::tests::test_create_rental_request_with_icpay_payment_method
        PASS [  13.492s] ( 124/1486) api database::contracts::tests::test_cancel_contract_with_icpay_payment_no_refund
        PASS [  13.408s] ( 125/1486) api database::contracts::tests::test_create_rental_request_success
        PASS [  13.604s] ( 126/1486) api database::contracts::tests::test_cancel_contract_stripe_payment_without_client
        PASS [  13.545s] ( 127/1486) api database::contracts::tests::test_create_rental_request_invalid_payment_method
        PASS [  13.583s] ( 128/1486) api database::contracts::tests::test_cleanup_expired_provisioning_locks
        PASS [  13.817s] ( 129/1486) api database::contracts::tests::test_cancel_contract_rejects_provider_cancellation
        PASS [  13.638s] ( 130/1486) api database::contracts::tests::test_create_rental_request_eur_stripe
        PASS [  13.638s] ( 131/1486) api database::contracts::tests::test_create_rental_request_offering_not_found
        PASS [  13.705s] ( 132/1486) api database::contracts::tests::test_cancel_contract_unauthorized
        PASS [  13.720s] ( 133/1486) api database::contracts::tests::test_cancel_contract_success_requested
        PASS [  13.719s] ( 134/1486) api database::contracts::tests::test_create_rental_request_with_defaults
        PASS [  14.041s] ( 135/1486) api database::contracts::tests::test_cancel_contract_rejects_unauthorized_user
        PASS [  13.983s] ( 136/1486) api database::contracts::tests::test_cancel_contract_success_all_cancellable_statuses
        PASS [  17.248s] ( 137/1486) api database::contracts::tests::test_get_user_contracts_empty
        PASS [  17.448s] ( 138/1486) api database::contracts::tests::test_get_contract_returns_end_timestamp_for_expired
        PASS [  17.352s] ( 139/1486) api database::contracts::tests::test_get_provider_contracts
        PASS [  17.638s] ( 140/1486) api database::contracts::tests::test_get_contract_returns_end_timestamp_for_active
        PASS [  18.035s] ( 141/1486) api database::contracts::tests::test_create_rental_request_with_stripe_payment_method
        PASS [  17.308s] ( 142/1486) api database::contracts::tests::test_mark_contract_terminated_not_cancelled
        PASS [  17.608s] ( 143/1486) api database::contracts::tests::test_get_pending_termination_contracts
        PASS [  17.431s] ( 144/1486) api database::contracts::tests::test_mark_contract_terminated
        PASS [  17.456s] ( 145/1486) api database::contracts::tests::test_list_contracts_pagination
        PASS [  17.853s] ( 146/1486) api database::contracts::tests::test_get_contract_not_found
        PASS [  17.839s] ( 147/1486) api database::contracts::tests::test_get_contract_returns_cancelled_status
        PASS [  18.088s] ( 148/1486) api database::contracts::tests::test_get_contract_by_id
        PASS [   0.015s] ( 149/1486) api database::email::tests::test_calculate_backoff_secs
        PASS [  17.710s] ( 150/1486) api database::contracts::tests::test_get_user_contracts
        PASS [  17.805s] ( 151/1486) api database::contracts::tests::test_get_pending_provider_contracts
        PASS [  18.071s] ( 152/1486) api database::contracts::tests::test_get_contract_by_id_not_found
        PASS [  18.063s] ( 153/1486) api database::contracts::tests::test_get_contract_returns_provider_pubkey
        PASS [  29.342s] ( 154/1486) api database::contracts::tests::test_payment_status_icpay_payment_succeeds_immediately
        PASS [  29.268s] ( 155/1486) api database::contracts::tests::test_provisioning_lock_expiration
        PASS [  28.887s] ( 156/1486) api database::email::tests::test_get_pending_emails
        PASS [  29.384s] ( 157/1486) api database::contracts::tests::test_payment_status_stripe_payment_starts_pending
        PASS [  29.009s] ( 158/1486) api database::email::tests::test_get_emails_needing_gave_up_notification
        PASS [  29.220s] ( 159/1486) api database::contracts::tests::test_update_contract_status_records_history
        PASS [  29.334s] ( 160/1486) api database::contracts::tests::test_update_contract_status_rejects_non_provider
        PASS [  29.276s] ( 161/1486) api database::email::tests::test_get_emails_needing_retry_notification
        PASS [  29.616s] ( 162/1486) api database::contracts::tests::test_provisioning_lock_race_condition
        PASS [  29.398s] ( 163/1486) api database::email::tests::test_get_email_stats_empty
        PASS [  29.463s] ( 164/1486) api database::email::tests::test_get_email_stats_accuracy
        PASS [  29.550s] ( 165/1486) api database::email::tests::test_emails_without_related_account_not_in_notification_queries
        PASS [  29.631s] ( 166/1486) api database::contracts::tests::test_try_auto_accept_contract_enabled
        PASS [  29.670s] ( 167/1486) api database::contracts::tests::test_try_auto_accept_contract_idempotent
        PASS [  29.302s] ( 168/1486) api database::email::tests::test_get_pending_emails_empty
        PASS [  29.869s] ( 169/1486) api database::contracts::tests::test_try_auto_accept_contract_disabled
        PASS [  15.777s] ( 170/1486) api database::email::tests::test_get_sent_emails
        PASS [  15.903s] ( 171/1486) api database::email::tests::test_get_pending_emails_limit
        PASS [  15.304s] ( 172/1486) api database::email::tests::test_reset_email_for_retry_not_found
        PASS [   0.018s] ( 173/1486) api database::migration_tests::test_migration_approaches_are_equivalent
        PASS [   0.030s] ( 174/1486) api database::migration_tests::test_migration_path_from_crate_root
        FAIL [   0.036s] ( 175/1486) api database::migration_tests::test_migrations_via_database_new
  stdout ───

    running 1 test
    test database::migration_tests::test_migrations_via_database_new ... FAILED

    failures:

    failures:
        database::migration_tests::test_migrations_via_database_new

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 553 filtered out; finished in 0.01s

  stderr ───

    thread 'database::migration_tests::test_migrations_via_database_new' (4038067) panicked at /home/sat/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/testing/mod.rs:226:14:
    failed to connect to setup test database: Io(Custom { kind: Uncategorized, error: "failed to lookup address information: Name or service not known" })
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

        PASS [   0.010s] ( 176/1486) api database::migration_tests::test_sqlx_offline_mode_data_exists
        PASS [  15.789s] ( 177/1486) api database::email::tests::test_mark_gave_up_notified
        PASS [  15.593s] ( 178/1486) api database::email::tests::test_queue_email_with_account
        PASS [  16.212s] ( 179/1486) api database::email::tests::test_get_pending_emails_excludes_failed
        PASS [  15.588s] ( 180/1486) api database::email::tests::test_reset_email_for_retry_success
        PASS [  15.745s] ( 181/1486) api database::email::tests::test_queue_email_safe_with_valid_address
        PASS [  15.807s] ( 182/1486) api database::email::tests::test_queue_email
        PASS [   0.025s] ( 183/1486) api database::offerings::export_bindings_offering
        PASS [  15.677s] ( 184/1486) api database::email::tests::test_queue_html_email
        PASS [   0.022s] ( 185/1486) api database::offerings::tests::export_typescript_types
        PASS [  15.895s] ( 186/1486) api database::email::tests::test_queue_email_safe_with_none_address
        PASS [  16.264s] ( 187/1486) api database::email::tests::test_mark_email_failed
        PASS [  16.018s] ( 188/1486) api database::email::tests::test_mark_retry_notified
        PASS [  16.258s] ( 189/1486) api database::email::tests::test_mark_email_sent
        PASS [  16.351s] ( 190/1486) api database::email::tests::test_mark_email_permanently_failed
        PASS [  15.709s] ( 191/1486) api database::email::tests::test_retry_all_failed_emails_excludes_pending_and_sent
        PASS [  10.218s] ( 192/1486) api database::offerings::tests::test_create_offering_success
        PASS [  10.365s] ( 193/1486) api database::offerings::tests::test_bulk_update_stock_status_empty
        PASS [  10.192s] ( 194/1486) api database::offerings::tests::test_create_yearly_subscription_offering
        PASS [  10.199s] ( 195/1486) api database::offerings::tests::test_create_subscription_offering
        PASS [  10.762s] ( 196/1486) api database::email::tests::test_retry_all_failed_emails_none
        PASS [  10.480s] ( 197/1486) api database::notification_config::tests::test_set_and_get_user_notification_config
        PASS [  10.401s] ( 198/1486) api database::offerings::tests::test_count_offerings_no_filters
        PASS [  10.227s] ( 199/1486) api database::offerings::tests::test_csv_import_column_order_independence
        PASS [  10.343s] ( 200/1486) api database::offerings::tests::test_create_offering_missing_required_fields
        PASS [  10.448s] ( 201/1486) api database::offerings::tests::test_bulk_update_stock_status_success
        PASS [  10.522s] ( 202/1486) api database::notification_config::tests::test_update_existing_notification_config
        PASS [  10.912s] ( 203/1486) api database::email::tests::test_retry_all_failed_emails_multiple
        PASS [  10.710s] ( 204/1486) api database::notification_config::tests::test_get_user_notification_config_not_exists
        PASS [  10.486s] ( 205/1486) api database::offerings::tests::test_bulk_update_stock_status_unauthorized
        PASS [  10.708s] ( 206/1486) api database::notification_config::tests::test_multi_channel_notifications
        PASS [  10.571s] ( 207/1486) api database::offerings::tests::test_create_offering_duplicate_id
        PASS [  14.343s] ( 208/1486) api database::offerings::tests::test_get_provider_offerings_no_matching_pool
        PASS [  14.460s] ( 209/1486) api database::offerings::tests::test_duplicate_offering_unauthorized
        PASS [  14.501s] ( 210/1486) api database::offerings::tests::test_delete_offering_success
        PASS [  14.655s] ( 211/1486) api database::offerings::tests::test_csv_import_unauthorized
        PASS [  14.598s] ( 212/1486) api database::offerings::tests::test_get_offering_by_id
        PASS [  14.705s] ( 213/1486) api database::offerings::tests::test_csv_import_gpu_fields
        PASS [  14.426s] ( 214/1486) api database::offerings::tests::test_get_provider_offerings_with_resolved_pool
        PASS [  14.718s] ( 215/1486) api database::offerings::tests::test_csv_import_success
        PASS [  14.631s] ( 216/1486) api database::offerings::tests::test_get_provider_offerings
        PASS [  14.658s] ( 217/1486) api database::offerings::tests::test_get_offering_not_found
        PASS [  14.738s] ( 218/1486) api database::offerings::tests::test_csv_import_upsert
        PASS [  14.742s] ( 219/1486) api database::offerings::tests::test_csv_import_with_errors
        PASS [  14.659s] ( 220/1486) api database::offerings::tests::test_get_provider_offerings_empty
        PASS [  14.729s] ( 221/1486) api database::offerings::tests::test_duplicate_offering_success
        PASS [  14.759s] ( 222/1486) api database::offerings::tests::test_delete_offering_unauthorized
        PASS [  14.638s] ( 223/1486) api database::offerings::tests::test_get_provider_offerings_with_explicit_pool_id
        PASS [  14.893s] ( 224/1486) api database::offerings::tests::test_get_subscription_offering_fields
        PASS [  14.970s] ( 225/1486) api database::offerings::tests::test_search_offerings_excludes_private
        PASS [  15.095s] ( 226/1486) api database::offerings::tests::test_search_offerings_dsl_basic_type_filter
        PASS [  15.095s] ( 227/1486) api database::offerings::tests::test_search_offerings_dsl_comparison_operators
        PASS [  15.206s] ( 228/1486) api database::offerings::tests::test_one_time_offering_default_subscription_fields
        PASS [  15.352s] ( 229/1486) api database::offerings::tests::test_import_seeded_offerings_csv_with_external_checkout_url
        PASS [  15.268s] ( 230/1486) api database::offerings::tests::test_search_offerings_dsl_invalid_query
        PASS [  15.512s] ( 231/1486) api database::offerings::tests::test_import_seeded_offerings_csv_upsert
        PASS [  15.481s] ( 232/1486) api database::offerings::tests::test_search_offerings_dsl_combined_filters
        PASS [   0.035s] ( 233/1486) api database::providers::export_bindings_externalprovider
        PASS [   0.036s] ( 234/1486) api database::providers::export_bindings_provideronboarding
        PASS [  15.515s] ( 235/1486) api database::offerings::tests::test_search_offerings_dsl_price_range
        PASS [   0.034s] ( 236/1486) api database::providers::export_bindings_providerprofile
        PASS [  15.784s] ( 237/1486) api database::offerings::tests::test_import_seeded_offerings_csv
        PASS [   0.028s] ( 238/1486) api database::providers::export_bindings_validator
        PASS [   0.036s] ( 239/1486) api database::providers::tests::export_typescript_types
        PASS [  15.679s] ( 240/1486) api database::offerings::tests::test_search_offerings_dsl_excludes_private
        PASS [  15.639s] ( 241/1486) api database::offerings::tests::test_search_offerings_filters_by_pool_existence
        PASS [  15.767s] ( 242/1486) api database::offerings::tests::test_search_offerings_dsl_pagination
        PASS [  15.824s] ( 243/1486) api database::offerings::tests::test_search_offerings_dsl_empty_query
        PASS [  16.007s] ( 244/1486) api database::offerings::tests::test_search_offerings_by_country
        PASS [  13.174s] ( 245/1486) api database::offerings::tests::test_search_offerings_max_price_filter
        PASS [  13.127s] ( 246/1486) api database::providers::tests::test_update_external_provider
        PASS [  13.433s] ( 247/1486) api database::offerings::tests::test_update_offering_unauthorized
        PASS [  13.218s] ( 248/1486) api database::providers::tests::test_create_external_provider
        PASS [  12.862s] ( 249/1486) api database::recovery::tests::test_create_recovery_token
        PASS [  13.562s] ( 250/1486) api database::offerings::tests::test_update_offering_success
        PASS [  13.134s] ( 251/1486) api database::providers::tests::test_update_provider_onboarding_updates_existing_profile
        PASS [  13.050s] ( 252/1486) api database::recovery::tests::test_complete_recovery_token_used_twice
        PASS [  13.817s] ( 253/1486) api database::offerings::tests::test_search_offerings_no_filters
        PASS [  13.631s] ( 254/1486) api database::offerings::tests::test_search_offerings_price_range_both
        PASS [  13.844s] ( 255/1486) api database::offerings::tests::test_search_offerings_pagination
        PASS [  13.238s] ( 256/1486) api database::providers::tests::test_update_provider_onboarding_creates_new_profile
        PASS [  13.142s] ( 257/1486) api database::recovery::tests::test_complete_recovery
        PASS [  13.917s] ( 258/1486) api database::offerings::tests::test_search_offerings_min_price_filter
        PASS [   0.033s] ( 259/1486) api database::stats::export_bindings_accountsearchresult
        PASS [  13.812s] ( 260/1486) api database::offerings::tests::test_search_offerings_price_range
        PASS [   0.029s] ( 261/1486) api database::stats::export_bindings_platformstats
        PASS [   0.030s] ( 262/1486) api database::stats::export_bindings_providertrustmetrics
        PASS [   0.034s] ( 263/1486) api database::stats::tests::export_typescript_types
        PASS [  13.445s] ( 264/1486) api database::providers::tests::test_external_provider_unique_domain
        PASS [   3.205s] ( 265/1486) api database::recovery::tests::test_create_recovery_token_no_email
        PASS [  13.268s] ( 266/1486) api database::reseller::tests::test_create_reseller_relationship_invalid_commission
        PASS [  13.372s] ( 267/1486) api database::reseller::tests::test_create_reseller_relationship
        PASS [  13.240s] ( 268/1486) api database::reseller::tests::test_list_reseller_relationships_for_provider
        PASS [  13.212s] ( 269/1486) api database::reseller::tests::test_update_reseller_relationship
        PASS [  13.256s] ( 270/1486) api database::reseller::tests::test_list_reseller_orders_for_provider
        PASS [  13.296s] ( 271/1486) api database::reseller::tests::test_delete_reseller_relationship
        PASS [  13.429s] ( 272/1486) api database::reseller::tests::test_create_reseller_order
        PASS [  13.228s] ( 273/1486) api database::stats::tests::test_abandonment_velocity_none_no_baseline
        PASS [  13.406s] ( 274/1486) api database::reseller::tests::test_delete_nonexistent_relationship
        PASS [  13.370s] ( 275/1486) api database::reseller::tests::test_fulfill_reseller_order
        PASS [  13.195s] ( 276/1486) api database::stats::tests::test_abandonment_velocity_zero_no_recent
        PASS [  11.243s] ( 277/1486) api database::stats::tests::test_avg_contract_duration_ratio_cancelled_early
        PASS [  13.285s] ( 278/1486) api database::stats::tests::test_abandonment_velocity_improving
        PASS [  13.287s] ( 279/1486) api database::stats::tests::test_abandonment_velocity_spike
        PASS [  13.294s] ( 280/1486) api database::stats::tests::test_abandonment_velocity_stable
        PASS [  13.401s] ( 281/1486) api database::stats::tests::test_abandonment_velocity_baseline_zero_cancellations
        PASS [  11.755s] ( 282/1486) api database::stats::tests::test_avg_contract_duration_ratio_completed_exact
        PASS [  12.470s] ( 283/1486) api database::stats::tests::test_get_platform_stats_with_data
        PASS [  12.417s] ( 284/1486) api database::stats::tests::test_get_reputation_with_changes
        PASS [  12.507s] ( 285/1486) api database::stats::tests::test_get_platform_stats_empty
        PASS [  12.488s] ( 286/1486) api database::stats::tests::test_get_provider_stats_with_data
        PASS [  12.538s] ( 287/1486) api database::stats::tests::test_get_provider_stats_empty
        PASS [  12.654s] ( 288/1486) api database::stats::tests::test_avg_contract_duration_ratio_ignores_active_contracts
        PASS [  12.547s] ( 289/1486) api database::stats::tests::test_get_reputation_none
        PASS [  12.679s] ( 290/1486) api database::stats::tests::test_avg_contract_duration_ratio_none
        PASS [  12.463s] ( 291/1486) api database::stats::tests::test_no_response_rate_pct_all_ignored
        PASS [  12.586s] ( 292/1486) api database::stats::tests::test_get_provider_trust_metrics_new_provider
        PASS [  12.731s] ( 293/1486) api database::stats::tests::test_avg_contract_duration_ratio_completed_longer
        PASS [  12.704s] ( 294/1486) api database::stats::tests::test_get_latest_block_timestamp_ns_with_data
        PASS [  12.622s] ( 295/1486) api database::stats::tests::test_get_provider_trust_metrics_with_contracts
        PASS [  12.748s] ( 296/1486) api database::stats::tests::test_avg_contract_duration_ratio_mixed_contracts
        PASS [  12.762s] ( 297/1486) api database::stats::tests::test_get_latest_block_timestamp_ns_empty
        PASS [   4.735s] ( 298/1486) api database::stats::tests::test_no_response_rate_pct_none
        PASS [  13.086s] ( 299/1486) api database::stats::tests::test_no_response_rate_pct_partial_ignored
        PASS [   0.017s] ( 300/1486) api database::stats::tests::test_trust_score_bonuses
        PASS [   0.009s] ( 301/1486) api database::stats::tests::test_trust_score_ghost_risk
        PASS [   0.009s] ( 302/1486) api database::stats::tests::test_trust_score_ghost_risk_never_checked_in
        PASS [   0.010s] ( 303/1486) api database::stats::tests::test_trust_score_high_early_cancellation
        PASS [   0.012s] ( 304/1486) api database::stats::tests::test_trust_score_multiple_flags
        PASS [   0.014s] ( 305/1486) api database::stats::tests::test_trust_score_negative_reputation
        PASS [   0.010s] ( 306/1486) api database::stats::tests::test_trust_score_no_contact_info
        PASS [   0.013s] ( 307/1486) api database::stats::tests::test_trust_score_perfect_provider
        PASS [   0.008s] ( 308/1486) api database::stats::tests::test_trust_score_provisioning_failure
        PASS [   0.009s] ( 309/1486) api database::stats::tests::test_trust_score_slow_response
        PASS [  13.368s] ( 310/1486) api database::stats::tests::test_no_response_rate_pct_zero
        PASS [  13.697s] ( 311/1486) api database::stats::tests::test_no_response_rate_pct_recent_requested_not_counted
        PASS [  13.730s] ( 312/1486) api database::stats::tests::test_no_response_rate_pct_only_counts_last_90_days
        PASS [  14.019s] ( 313/1486) api database::stats::tests::test_search_accounts_limit
        PASS [  14.160s] ( 314/1486) api database::stats::tests::test_provider_tenure_new
        PASS [  14.240s] ( 315/1486) api database::stats::tests::test_provider_tenure_established
        PASS [  14.179s] ( 316/1486) api database::stats::tests::test_search_accounts_by_pubkey
        PASS [  14.219s] ( 317/1486) api database::stats::tests::test_search_accounts_by_display_name
        PASS [  10.517s] ( 318/1486) api database::stats::tests::test_search_accounts_with_reputation_and_activity
        PASS [  14.246s] ( 319/1486) api database::stats::tests::test_search_accounts_by_username
        PASS [  14.296s] ( 320/1486) api database::stats::tests::test_provider_tenure_zero_contracts
        PASS [  14.386s] ( 321/1486) api database::stats::tests::test_provider_tenure_growing_at_boundary
        PASS [  14.342s] ( 322/1486) api database::stats::tests::test_search_accounts_case_insensitive
        PASS [  14.455s] ( 323/1486) api database::stats::tests::test_provider_tenure_growing
        PASS [  14.780s] ( 324/1486) api database::stats::tests::test_search_accounts_empty
        PASS [  12.449s] ( 325/1486) api database::subscriptions::tests::test_account_has_feature_free_tier
        PASS [  13.672s] ( 326/1486) api database::subscriptions::tests::test_account_has_feature_pro_tier
        PASS [  12.711s] ( 327/1486) api database::tests::test_all_entry_types_storage
        PASS [  12.757s] ( 328/1486) api database::telegram_tracking::tests::test_track_telegram_message_upsert
        PASS [  12.898s] ( 329/1486) api database::subscriptions::tests::test_get_subscription_plan
        PASS [  13.495s] ( 330/1486) api database::subscriptions::tests::test_count_active_contracts_no_contracts
        PASS [  12.913s] ( 331/1486) api database::subscriptions::tests::test_plan_features_list
        PASS [  12.906s] ( 332/1486) api database::telegram_tracking::tests::test_track_and_lookup_telegram_message
        PASS [  13.069s] ( 333/1486) api database::subscriptions::tests::test_free_plan_features
        PASS [  13.588s] ( 334/1486) api database::subscriptions::tests::test_count_active_contracts_with_active_contracts
        PASS [  12.811s] ( 335/1486) api database::tests::test_database_basic_operations
        PASS [  13.064s] ( 336/1486) api database::subscriptions::tests::test_get_subscription_plan_not_found
        PASS [  12.880s] ( 337/1486) api database::tests::test_csv_template_data_retrieval
        PASS [  12.930s] ( 338/1486) api database::tests::test_bulk_insert_performance
        PASS [  12.530s] ( 339/1486) api database::tests::test_get_active_validators
        PASS [  13.277s] ( 340/1486) api database::subscriptions::tests::test_list_subscription_plans
        PASS [   0.022s] ( 341/1486) api database::users::export_bindings_accountcontact
        PASS [   0.025s] ( 342/1486) api database::users::export_bindings_accountexternalkey
        PASS [   0.028s] ( 343/1486) api database::users::export_bindings_accountsocial
        PASS [   0.045s] ( 344/1486) api database::users::export_bindings_useractivity
        PASS [   0.038s] ( 345/1486) api database::users::tests::export_typescript_types
        PASS [   0.019s] ( 346/1486) api helpcenter::tests::test_common_issues_structure
        PASS [   0.013s] ( 347/1486) api helpcenter::tests::test_extract_description
        PASS [   0.018s] ( 348/1486) api helpcenter::tests::test_extract_description_truncates
        PASS [   0.023s] ( 349/1486) api helpcenter::tests::test_full_article_generation
        PASS [   0.026s] ( 350/1486) api helpcenter::tests::test_generate_article_slug
        PASS [   0.018s] ( 351/1486) api helpcenter::tests::test_minimal_article_generation
        PASS [   0.017s] ( 352/1486) api helpcenter::tests::test_no_payment_section_when_empty
        PASS [   0.009s] ( 353/1486) api helpcenter::tests::test_no_support_section_when_empty
        PASS [   0.009s] ( 354/1486) api helpcenter::tests::test_parse_json_array_invalid
        PASS [   0.009s] ( 355/1486) api helpcenter::tests::test_parse_json_array_none
        PASS [   0.009s] ( 356/1486) api helpcenter::tests::test_parse_json_array_valid
        PASS [   0.009s] ( 357/1486) api helpcenter::tests::test_payment_method_labels
        PASS [   0.009s] ( 358/1486) api helpcenter::tests::test_sla_none_excluded
        PASS [   0.182s] ( 359/1486) api icpay_client::tests::test_create_refund_full_amount
        PASS [   0.256s] ( 360/1486) api icpay_client::tests::test_create_refund_success
        PASS [   0.377s] ( 361/1486) api icpay_client::tests::test_get_payments_by_metadata_no_completed
        PASS [   0.232s] ( 362/1486) api icpay_client::tests::test_get_payments_by_metadata_success
        PASS [   0.016s] ( 363/1486) api icpay_client::tests::test_icpay_client_new_missing_key
        PASS [   0.130s] ( 364/1486) api icpay_client::tests::test_icpay_client_new_with_key
        PASS [   0.010s] ( 365/1486) api invoice_storage::tests::test_both_invoice_types_coexist
        PASS [   0.009s] ( 366/1486) api invoice_storage::tests::test_load_nonexistent_invoice
        PASS [   0.010s] ( 367/1486) api invoice_storage::tests::test_save_and_load_stripe_invoice
        PASS [   0.010s] ( 368/1486) api invoice_storage::tests::test_save_and_load_typst_invoice
        PASS [   3.854s] ( 369/1486) api database::tests::test_get_active_validators_with_profile
        PASS [  12.482s] ( 370/1486) api database::tests::test_unknown_label_handling
        PASS [  12.612s] ( 371/1486) api database::tests::test_get_example_offerings
        PASS [  12.444s] ( 372/1486) api database::tokens::tests::test_get_account_transfers_limit
        PASS [  12.766s] ( 373/1486) api database::tests::test_offerings_with_pools_included_in_search
        PASS [  12.673s] ( 374/1486) api database::tokens::tests::test_get_account_approvals
        PASS [   0.015s] ( 375/1486) api invoices::tests::test_parse_buyer_address_empty
        PASS [  12.581s] ( 376/1486) api database::tokens::tests::test_get_account_transfers
        PASS [  12.568s] ( 377/1486) api database::tokens::tests::test_get_account_transfers_empty
        PASS [  10.779s] ( 378/1486) api invoices::tests::test_create_invoice
        PASS [   0.016s] ( 379/1486) api invoices::tests::test_parse_buyer_address_four_lines
        PASS [   0.018s] ( 380/1486) api invoices::tests::test_parse_buyer_address_none
        PASS [   0.025s] ( 381/1486) api invoices::tests::test_parse_buyer_address_single_line
        PASS [   0.022s] ( 382/1486) api invoices::tests::test_parse_buyer_address_three_lines
        PASS [   0.015s] ( 383/1486) api invoices::tests::test_parse_buyer_address_two_lines
        PASS [   0.022s] ( 384/1486) api invoices::tests::test_parse_buyer_address_trims_whitespace
        PASS [   0.028s] ( 385/1486) api ledger_path::tests::creates_fallback_dir_when_env_missing
        PASS [  12.838s] ( 386/1486) api database::tests::test_historical_tables_store_all_entries
        PASS [   0.024s] ( 387/1486) api ledger_path::tests::uses_env_var_when_present
        PASS [   0.023s] ( 388/1486) api notifications::sms::tests::test_format_sms_notification
        PASS [   0.023s] ( 389/1486) api notifications::sms::tests::test_textbee_is_configured
        PASS [   0.024s] ( 390/1486) api notifications::telegram::tests::test_format_notification
        PASS [   0.026s] ( 391/1486) api notifications::sms::tests::test_twilio_is_configured
        PASS [  12.686s] ( 392/1486) api database::tokens::tests::test_get_account_balance_zero
        PASS [  12.845s] ( 393/1486) api database::tests::test_unique_tables_replace_entries
        PASS [   0.027s] ( 394/1486) api notifications::telegram::tests::test_send_message_request_serialization
        PASS [   0.023s] ( 395/1486) api notifications::telegram::tests::test_send_message_response_deserialization_error
        PASS [   0.027s] ( 396/1486) api notifications::telegram::tests::test_send_message_response_deserialization_success
        PASS [  12.566s] ( 397/1486) api database::tokens::tests::test_get_recent_transfers
        PASS [  12.763s] ( 398/1486) api database::tokens::tests::test_get_account_balance
        PASS [   0.025s] ( 399/1486) api notifications::telegram::tests::test_telegram_message_deserialization
        PASS [   0.025s] ( 400/1486) api notifications::telegram::tests::test_telegram_client_is_configured
        PASS [   0.030s] ( 401/1486) api notifications::telegram::tests::test_telegram_update_deserialization
        PASS [   0.017s] ( 402/1486) api payment_release_service::tests::test_release_calculation_no_time_elapsed
        PASS [   0.034s] ( 403/1486) api notifications::telegram::tests::test_telegram_update_with_reply_deserialization
        PASS [   0.034s] ( 404/1486) api payment_release_service::tests::test_release_calculation_contract_ended
        PASS [   0.018s] ( 405/1486) api payment_release_service::tests::test_release_calculation_half_time_elapsed
        PASS [   0.020s] ( 406/1486) api payment_release_service::tests::test_release_calculation_daily_incremental
        PASS [  12.799s] ( 407/1486) api database::tokens::tests::test_get_account_approvals_empty
        PASS [   0.018s] ( 408/1486) api payment_release_service::tests::test_release_calculation_one_day_out_of_thirty
        PASS [   0.018s] ( 409/1486) api receipts::tests::test_extract_email
        PASS [  13.156s] ( 410/1486) api database::tests::test_get_active_validators_without_profile
        PASS [   0.254s] ( 411/1486) api notifications::sms::tests::test_textbee_default_api_url
        PASS [   0.042s] ( 412/1486) api regions::tests::test_countries_in_region
        PASS [   0.022s] ( 413/1486) api regions::tests::test_country_to_region_asia_pacific
        PASS [   0.018s] ( 414/1486) api regions::tests::test_country_to_region_cis
        PASS [   0.015s] ( 415/1486) api regions::tests::test_country_to_region_europe
        PASS [   0.014s] ( 416/1486) api regions::tests::test_country_to_region_latin_america
        PASS [   0.247s] ( 417/1486) api notifications::telegram::tests::test_telegram_client_from_env
        PASS [   0.325s] ( 418/1486) api notifications::sms::tests::test_textbee_custom_api_url
        PASS [   0.017s] ( 419/1486) api regions::tests::test_country_to_region_north_america
        PASS [   0.013s] ( 420/1486) api regions::tests::test_country_to_region_sub_saharan_africa
        PASS [   0.025s] ( 421/1486) api regions::tests::test_country_to_region_mena
        PASS [   0.015s] ( 422/1486) api regions::tests::test_country_to_region_unknown
        PASS [   0.013s] ( 423/1486) api regions::tests::test_is_valid_country_code
        PASS [   0.020s] ( 424/1486) api regions::tests::test_is_valid_region
        PASS [   0.021s] ( 425/1486) api regions::tests::test_region_display_name
        PASS [   0.014s] ( 426/1486) api rental_notifications::tests::test_format_amount
        PASS [   0.017s] ( 427/1486) api regions::tests::test_regions_constant
        PASS [   0.021s] ( 428/1486) api rental_notifications::tests::test_format_duration
        PASS [   0.015s] ( 429/1486) api search::tests::test_case_insensitive_keywords
        PASS [   0.017s] ( 430/1486) api search::tests::test_complex_query
        PASS [   0.025s] ( 431/1486) api search::tests::test_boolean_false
        PASS [   0.014s] ( 432/1486) api search::tests::test_empty_query
        PASS [   0.017s] ( 433/1486) api search::tests::test_error_invalid_character
        PASS [   0.017s] ( 434/1486) api search::tests::test_error_missing_to_in_range
        PASS [   0.028s] ( 435/1486) api search::tests::test_error_missing_colon
        PASS [   0.016s] ( 436/1486) api search::tests::test_error_unclosed_bracket
        PASS [   0.034s] ( 437/1486) api search::tests::test_error_missing_field
        PASS [   0.016s] ( 438/1486) api search::tests::test_error_unclosed_paren
        PASS [   0.018s] ( 439/1486) api search::tests::test_explicit_and
        PASS [   0.016s] ( 440/1486) api search::tests::test_field_with_dot
        PASS [   0.019s] ( 441/1486) api search::tests::test_field_with_underscore
        PASS [   0.022s] ( 442/1486) api search::tests::test_gte_operator
        PASS [   0.029s] ( 443/1486) api search::tests::test_float_value
        PASS [   0.030s] ( 444/1486) api search::tests::test_gt_operator
        PASS [   0.458s] ( 445/1486) api notifications::sms::tests::test_provider_names
        PASS [   0.030s] ( 446/1486) api search::tests::test_implicit_and
        PASS [   0.014s] ( 447/1486) api search::tests::test_lte_operator
        PASS [   0.016s] ( 448/1486) api search::tests::test_multiple_or_in_group
        PASS [   0.024s] ( 449/1486) api search::tests::test_lt_operator
        PASS [   0.016s] ( 450/1486) api search::tests::test_negated_or_group
        PASS [   0.014s] ( 451/1486) api search::tests::test_negation_minus
        PASS [   0.015s] ( 452/1486) api search::tests::test_or_group
        PASS [   0.018s] ( 453/1486) api search::tests::test_negation_exclamation
        PASS [   0.013s] ( 454/1486) api search::tests::test_or_group_three_values
        PASS [   0.012s] ( 455/1486) api search::tests::test_range
        PASS [   0.012s] ( 456/1486) api search::tests::test_simple_exact_match
        PASS [   0.009s] ( 457/1486) api search::tests::test_sql_boolean_true
        PASS [   0.010s] ( 458/1486) api search::tests::test_sql_boolean_false
        PASS [   0.012s] ( 459/1486) api search::tests::test_sql_all_allowlisted_fields
        PASS [   0.011s] ( 460/1486) api search::tests::test_sql_complex_query
        PASS [   0.015s] ( 461/1486) api search::tests::test_sql_empty_filters
        PASS [   0.015s] ( 462/1486) api search::tests::test_sql_gte_operator
        PASS [   0.019s] ( 463/1486) api search::tests::test_sql_gt_operator
        PASS [   0.015s] ( 464/1486) api search::tests::test_sql_integer_to_float_conversion
        PASS [   0.019s] ( 465/1486) api search::tests::test_sql_float_price
        PASS [   0.016s] ( 466/1486) api search::tests::test_sql_lt_operator
        PASS [   0.015s] ( 467/1486) api search::tests::test_sql_lte_operator
        PASS [   0.017s] ( 468/1486) api search::tests::test_sql_multiple_filters_and
        PASS [   0.016s] ( 469/1486) api search::tests::test_sql_negation_or_group
        PASS [   0.017s] ( 470/1486) api search::tests::test_sql_negation_gte
        PASS [   0.015s] ( 471/1486) api search::tests::test_sql_negation_range
        PASS [   0.016s] ( 472/1486) api search::tests::test_sql_or_group_three_values
        PASS [   0.016s] ( 473/1486) api search::tests::test_sql_range
        PASS [   0.017s] ( 474/1486) api search::tests::test_sql_or_group
        PASS [   0.024s] ( 475/1486) api search::tests::test_sql_negation_simple
        PASS [   0.015s] ( 476/1486) api search::tests::test_sql_simple_equality
        PASS [   0.012s] ( 477/1486) api search::tests::test_sql_text_like_memory
        PASS [   0.011s] ( 478/1486) api search::tests::test_sql_text_like_name
        PASS [   0.014s] ( 479/1486) api search::tests::test_sql_text_like_features
        PASS [   0.015s] ( 480/1486) api search::tests::test_sql_text_like_gpu
        PASS [   0.015s] ( 481/1486) api search::tests::test_sql_text_like_negated
        PASS [   0.013s] ( 482/1486) api search::tests::test_sql_unknown_field_error
        PASS [   0.016s] ( 483/1486) api search::tests::test_value_types
        PASS [   0.014s] ( 484/1486) api search::tests::test_value_with_underscore
        PASS [   0.019s] ( 485/1486) api search::tests::test_whitespace_handling
        PASS [   0.012s] ( 486/1486) api stripe_client::tests::test_checkout_session_uses_frontend_url
        PASS [   0.022s] ( 487/1486) api stripe_client::tests::test_checkout_session_defaults_frontend_url
        PASS [   0.017s] ( 488/1486) api stripe_client::tests::test_stripe_client_new_missing_key
        PASS [   0.015s] ( 489/1486) api support_bot::embeddings::tests::test_cosine_similarity_different_lengths
        PASS [   0.019s] ( 490/1486) api support_bot::embeddings::tests::test_cosine_similarity_empty
        PASS [   0.017s] ( 491/1486) api support_bot::embeddings::tests::test_cosine_similarity_identical
        PASS [   0.016s] ( 492/1486) api support_bot::embeddings::tests::test_cosine_similarity_normalized
        PASS [   0.016s] ( 493/1486) api support_bot::embeddings::tests::test_cosine_similarity_orthogonal
        PASS [   0.018s] ( 494/1486) api support_bot::embeddings::tests::test_cosine_similarity_opposite
        PASS [   0.015s] ( 495/1486) api support_bot::embeddings::tests::test_is_configured
        PASS [   0.015s] ( 496/1486) api support_bot::handler::tests::test_format_bot_message_with_sources
        PASS [   0.018s] ( 497/1486) api support_bot::handler::tests::test_format_bot_message_always_includes_human_hint
        PASS [   0.027s] ( 498/1486) api support_bot::handler::tests::test_format_bot_message_without_sources
        PASS [   0.019s] ( 499/1486) api support_bot::handler::tests::test_truncate_message_exact
        PASS [   0.017s] ( 500/1486) api support_bot::handler::tests::test_truncate_message_long
        PASS [   0.014s] ( 501/1486) api support_bot::handler::tests::test_truncate_message_short
        PASS [   0.016s] ( 502/1486) api support_bot::llm::tests::test_build_prompt
        PASS [   0.016s] ( 503/1486) api support_bot::llm::tests::test_confidence_calculation
        PASS [   0.015s] ( 504/1486) api support_bot::llm::tests::test_escalate_on_agent_keyword
        PASS [   0.015s] ( 505/1486) api support_bot::llm::tests::test_escalate_on_no_articles
        PASS [   0.016s] ( 506/1486) api support_bot::llm::tests::test_escalate_on_human_keyword
        PASS [   0.015s] ( 507/1486) api support_bot::llm::tests::test_greeting_responds_without_escalating
        PASS [   0.014s] ( 508/1486) api support_bot::llm::tests::test_is_greeting_not_greeting
        PASS [   0.015s] ( 509/1486) api support_bot::llm::tests::test_greeting_with_punctuation
        PASS [   0.015s] ( 510/1486) api support_bot::llm::tests::test_is_greeting_simple
        PASS [   0.014s] ( 511/1486) api support_bot::llm::tests::test_low_confidence_triggers_escalation
        PASS [   0.016s] ( 512/1486) api support_bot::llm::tests::test_is_thanks
        PASS [   0.016s] ( 513/1486) api support_bot::llm::tests::test_prompt_limits_articles
        PASS [   0.015s] ( 514/1486) api support_bot::llm::tests::test_summarize_empty_history
        PASS [   0.018s] ( 515/1486) api support_bot::llm::tests::test_summarize_fallback_on_api_error
        PASS [   0.019s] ( 516/1486) api support_bot::llm::tests::test_thanks_responds_without_escalating
        PASS [   0.015s] ( 517/1486) api support_bot::llm::tests::test_truncate
        PASS [   0.197s] ( 518/1486) api stripe_client::tests::test_stripe_client_new_with_key
        PASS [   0.218s] ( 519/1486) api stripe_client::tests::test_create_checkout_session_invalid_currency
        PASS [  16.831s] ( 520/1486) api receipts::tests::test_send_contract_accepted_notification_contract_not_found
        PASS [  17.227s] ( 521/1486) api invoices::tests::test_get_invoice_metadata
        PASS [  16.887s] ( 522/1486) api receipts::tests::test_send_contract_rejected_notification_stripe_refund_info
        PASS [   0.016s] ( 523/1486) api support_bot::notifications::tests::test_support_notification_creation
        PASS [   0.020s] ( 524/1486) api support_bot::notifications::tests::test_support_notification_link_format
        PASS [   0.016s] ( 525/1486) api support_bot::search::tests::test_score_normalization
        PASS [  16.971s] ( 526/1486) api receipts::tests::test_send_contract_rejected_notification_icpay_refund_info
        PASS [   0.030s] ( 527/1486) api support_bot::search::tests::test_search_case_insensitive
        PASS [  17.335s] ( 528/1486) api invoices::tests::test_get_next_invoice_number_sequential
        PASS [   0.015s] ( 529/1486) api support_bot::search::tests::test_search_empty_articles
        PASS [   0.013s] ( 530/1486) api support_bot::search::tests::test_search_multiple_keywords_ranked_correctly
        PASS [   0.019s] ( 531/1486) api support_bot::search::tests::test_search_empty_query
        PASS [   0.013s] ( 532/1486) api support_bot::search::tests::test_search_single_match
        PASS [   0.020s] ( 533/1486) api support_bot::search::tests::test_search_no_matches
        PASS [   0.015s] ( 534/1486) api support_bot::search::tests::test_search_title_weight_higher_than_content
        PASS [  16.381s] ( 535/1486) api support_bot::notifications::tests::test_dispatch_notification_no_channels_enabled
        PASS [  16.394s] ( 536/1486) api support_bot::notifications::tests::test_dispatch_notification_multi_channel
        PASS [   0.026s] ( 537/1486) api support_bot::search::tests::test_tokenize
        PASS [   0.031s] ( 538/1486) api support_bot::search::tests::test_search_whitespace_query
        PASS [  16.377s] ( 539/1486) api support_bot::notifications::tests::test_dispatch_notification_telegram
        PASS [  17.091s] ( 540/1486) api receipts::tests::test_send_contract_accepted_notification_queues_email
        PASS [  17.163s] ( 541/1486) api receipts::tests::test_get_next_receipt_number_atomic
        PASS [   0.078s] ( 542/1486) api::bin/api-server auth::tests::export_typescript_types
        PASS [   0.112s] ( 543/1486) api::bin/api-server auth::export_bindings_signedrequestheaders
        PASS [  17.407s] ( 544/1486) api invoices::tests::test_get_next_invoice_number_year_rollover
        PASS [  16.516s] ( 545/1486) api support_bot::notifications::tests::test_dispatch_notification_no_config
        PASS [  16.557s] ( 546/1486) api support_bot::notifications::tests::test_dispatch_notification_email_no_service
        PASS [   0.020s] ( 547/1486) api::bin/api-server auth::tests::test_get_admin_pubkeys_empty
        PASS [   0.026s] ( 548/1486) api::bin/api-server auth::tests::test_get_admin_pubkeys_invalid_hex
        PASS [   0.016s] ( 549/1486) api::bin/api-server auth::tests::test_get_admin_pubkeys_multiple
        PASS [   0.018s] ( 550/1486) api::bin/api-server auth::tests::test_get_admin_pubkeys_single
        PASS [   0.016s] ( 551/1486) api::bin/api-server auth::tests::test_get_admin_pubkeys_with_whitespace
        PASS [   0.052s] ( 552/1486) api::bin/api-server auth::tests::test_actual_failing_signature_from_curl
        PASS [  17.215s] ( 553/1486) api receipts::tests::test_get_next_receipt_number_sequential
        PASS [   0.043s] ( 554/1486) api::bin/api-server auth::tests::test_cross_platform_signature_vector
        PASS [  17.203s] ( 555/1486) api receipts::tests::test_update_contract_receipt_info
        PASS [   0.023s] ( 556/1486) api::bin/api-server auth::tests::test_verify_expired_timestamp
        PASS [   0.020s] ( 557/1486) api::bin/api-server auth::tests::test_verify_invalid_pubkey_length
        PASS [   0.019s] ( 558/1486) api::bin/api-server auth::tests::test_verify_invalid_signature_length
        PASS [   0.022s] ( 559/1486) api::bin/api-server auth::tests::test_verify_invalid_nonce_format
        PASS [   0.036s] ( 560/1486) api::bin/api-server auth::tests::test_signature_crypto_only
        PASS [   0.017s] ( 561/1486) api::bin/api-server chatwoot::hmac::tests::test_identity_hash_different_inputs
        PASS [   0.017s] ( 562/1486) api::bin/api-server chatwoot::hmac::tests::test_identity_hash_different_secrets
        PASS [   0.032s] ( 563/1486) api::bin/api-server auth::tests::test_verify_valid_signature
        PASS [   0.022s] ( 564/1486) api::bin/api-server chatwoot::hmac::tests::test_identity_hash_deterministic
        PASS [   0.032s] ( 565/1486) api::bin/api-server chatwoot::hmac::tests::test_generate_identity_hash
        PASS [   0.018s] ( 566/1486) api::bin/api-server chatwoot::integration::tests::test_generate_portal_slug_basic
        PASS [   0.015s] ( 567/1486) api::bin/api-server chatwoot::integration::tests::test_generate_portal_slug_long_name
        PASS [   0.052s] ( 568/1486) api::bin/api-server auth::tests::test_verify_invalid_signature
        PASS [   0.017s] ( 569/1486) api::bin/api-server chatwoot::integration::tests::test_generate_portal_slug_special_chars
        PASS [   0.017s] ( 570/1486) api::bin/api-server chatwoot::tests::test_account_id_parse_invalid
        PASS [   0.021s] ( 571/1486) api::bin/api-server chatwoot::integration::tests::test_generate_secure_password_meets_requirements
        PASS [   0.023s] ( 572/1486) api::bin/api-server chatwoot::integration::tests::test_generate_secure_password_is_random
        PASS [   0.026s] ( 573/1486) api::bin/api-server chatwoot::tests::test_articles_list_response_deserialize
        PASS [   0.026s] ( 574/1486) api::bin/api-server chatwoot::tests::test_chatwoot_client_from_env_missing_vars
        PASS [   0.015s] ( 575/1486) api::bin/api-server chatwoot::tests::test_create_article_request_serialize
        PASS [   0.012s] ( 576/1486) api::bin/api-server chatwoot::tests::test_help_center_article_clone_and_eq
        PASS [   0.014s] ( 577/1486) api::bin/api-server chatwoot::tests::test_create_article_response_deserialize
        PASS [   0.013s] ( 578/1486) api::bin/api-server chatwoot::tests::test_help_center_article_deserialize
        PASS [   0.015s] ( 579/1486) api::bin/api-server chatwoot::tests::test_help_center_article_serialize
        PASS [   0.017s] ( 580/1486) api::bin/api-server chatwoot::tests::test_platform_client_from_env_missing_vars
        PASS [   0.017s] ( 581/1486) api::bin/api-server chatwoot::tests::test_platform_client_is_configured
        PASS [   0.017s] ( 582/1486) api::bin/api-server chatwoot::tests::test_portals_response_deserialize
        PASS [   0.015s] ( 583/1486) api::bin/api-server chatwoot::tests::test_profile_response_deserialize
        PASS [   0.019s] ( 584/1486) api::bin/api-server chatwoot::tests::test_portals_response_empty
        PASS [   0.015s] ( 585/1486) api::bin/api-server chatwoot::tests::test_update_article_request_serialize
        PASS [   0.013s] ( 586/1486) api::bin/api-server cloudflare_dns::tests::test_from_env_missing_vars
        PASS [   0.239s] ( 587/1486) api::bin/api-server chatwoot::tests::test_chatwoot_client_from_env_valid
        PASS [   0.236s] ( 588/1486) api::bin/api-server chatwoot::tests::test_platform_client_from_env_valid
        PASS [  37.552s] ( 589/1486) api invoices::tests::test_generate_invoice_pdf_includes_detailed_error_on_failure
        PASS [  15.651s] ( 590/1486) api support_bot::notifications::tests::test_rate_limit_telegram_exceeded
        PASS [  15.280s] ( 591/1486) api::bin/api-server cleanup_service::tests::test_cleanup_once_no_old_records
        PASS [  15.300s] ( 592/1486) api::bin/api-server cleanup_service::tests::test_cleanup_service_creation
        PASS [  15.574s] ( 593/1486) api support_bot::test_notifications::tests::test_send_test_notification_invalid_channel
        PASS [  15.142s] ( 594/1486) api::bin/api-server database::accounts::tests::test_admin_delete_account_nonexistent
        PASS [  15.341s] ( 595/1486) api::bin/api-server cleanup_service::tests::test_cleanup_once
        PASS [  15.356s] ( 596/1486) api::bin/api-server database::accounts::tests::test_add_account_key
        PASS [  15.654s] ( 597/1486) api support_bot::test_notifications::tests::test_send_test_email_no_service
        PASS [  15.626s] ( 598/1486) api support_bot::test_notifications::tests::test_send_test_telegram_no_chat_id
        PASS [  15.359s] ( 599/1486) api::bin/api-server database::accounts::tests::test_admin_delete_account
        PASS [  15.163s] ( 600/1486) api::bin/api-server database::accounts::tests::test_admin_delete_account_with_oauth
        PASS [  15.641s] ( 601/1486) api support_bot::test_notifications::tests::test_send_test_notification_no_config
        PASS [  15.689s] ( 602/1486) api support_bot::test_notifications::tests::test_send_test_sms_no_phone
        PASS [  15.905s] ( 603/1486) api support_bot::notifications::tests::test_rate_limit_sms_exceeded
        PASS [  15.650s] ( 604/1486) api::bin/api-server cleanup_service::tests::test_cleanup_service_runs_periodically
        PASS [   8.021s] ( 605/1486) api::bin/api-server database::accounts::tests::test_admin_delete_account_with_offerings_and_profile
        PASS [  15.070s] ( 606/1486) api::bin/api-server database::accounts::tests::test_create_oauth_account_duplicate_external_id
        PASS [  15.381s] ( 607/1486) api::bin/api-server database::accounts::tests::test_check_nonce_exists
        PASS [  15.544s] ( 608/1486) api::bin/api-server database::accounts::tests::test_cannot_disable_last_key
        PASS [  15.647s] ( 609/1486) api::bin/api-server database::accounts::tests::test_admin_set_account_email
        PASS [  15.504s] ( 610/1486) api::bin/api-server database::accounts::tests::test_create_oauth_account
        PASS [  15.516s] ( 611/1486) api::bin/api-server database::accounts::tests::test_create_oauth_linked_account
        PASS [  15.566s] ( 612/1486) api::bin/api-server database::accounts::tests::test_count_accounts
        PASS [  15.615s] ( 613/1486) api::bin/api-server database::accounts::tests::test_admin_set_account_email_nonexistent
        PASS [  15.279s] ( 614/1486) api::bin/api-server database::accounts::tests::test_create_oauth_linked_account_transaction_rollback
        PASS [  15.531s] ( 615/1486) api::bin/api-server database::accounts::tests::test_create_oauth_linked_account_duplicate_username
        PASS [  15.593s] ( 616/1486) api::bin/api-server database::accounts::tests::test_create_email_verification_token_expires
        PASS [  15.600s] ( 617/1486) api::bin/api-server database::accounts::tests::test_create_account
        PASS [  15.575s] ( 618/1486) api::bin/api-server database::accounts::tests::test_create_oauth_linked_account_queues_welcome_email
        PASS [  15.673s] ( 619/1486) api::bin/api-server database::accounts::tests::test_create_email_verification_token
        PASS [  15.810s] ( 620/1486) api::bin/api-server database::accounts::tests::test_admin_set_account_email_clear
        PASS [  13.486s] ( 621/1486) api::bin/api-server database::accounts::tests::test_disable_account_key
        PASS [  15.712s] ( 622/1486) api::bin/api-server database::accounts::tests::test_disabled_key_cannot_lookup_account
        PASS [  15.873s] ( 623/1486) api::bin/api-server database::accounts::tests::test_get_oauth_account_by_provider_and_external_id
        PASS [  16.121s] ( 624/1486) api::bin/api-server database::accounts::tests::test_ensure_account_for_pubkey_returns_existing
        PASS [  16.261s] ( 625/1486) api::bin/api-server database::accounts::tests::test_get_account_with_keys_by_public_key_includes_is_admin
        PASS [  16.330s] ( 626/1486) api::bin/api-server database::accounts::tests::test_get_account_by_email_not_found
        PASS [  16.389s] ( 627/1486) api::bin/api-server database::accounts::tests::test_get_oauth_account
        PASS [  16.539s] ( 628/1486) api::bin/api-server database::accounts::tests::test_get_account_with_keys_by_public_key_includes_email_and_verification_status
        PASS [  16.758s] ( 629/1486) api::bin/api-server database::accounts::tests::test_ensure_account_for_pubkey_creates_new_account
        PASS [  16.523s] ( 630/1486) api::bin/api-server database::accounts::tests::test_get_account_with_keys_includes_is_admin
        PASS [  16.632s] ( 631/1486) api::bin/api-server database::accounts::tests::test_get_account_with_keys
        PASS [  16.411s] ( 632/1486) api::bin/api-server database::accounts::tests::test_get_oauth_account_by_provider_and_external_id_not_found
        PASS [  16.716s] ( 633/1486) api::bin/api-server database::accounts::tests::test_get_account_by_email
        PASS [  16.851s] ( 634/1486) api::bin/api-server database::accounts::tests::test_ensure_account_for_pubkey_handles_username_collision
        PASS [  16.818s] ( 635/1486) api::bin/api-server database::accounts::tests::test_get_account_by_username
        PASS [  16.756s] ( 636/1486) api::bin/api-server database::accounts::tests::test_get_account_with_keys_includes_email_and_verification_status
        PASS [  17.566s] ( 637/1486) api::bin/api-server database::accounts::tests::test_get_latest_verification_token_time
        PASS [  16.154s] ( 638/1486) api::bin/api-server database::accounts::tests::test_get_oauth_account_not_found
        PASS [  16.925s] ( 639/1486) api::bin/api-server database::accounts::tests::test_is_admin_migration
        PASS [  16.426s] ( 640/1486) api::bin/api-server database::accounts::tests::test_list_all_accounts_pagination
        PASS [  16.495s] ( 641/1486) api::bin/api-server database::accounts::tests::test_oauth_account_creation_sets_email_verified
        PASS [  16.340s] ( 642/1486) api::bin/api-server database::accounts::tests::test_resend_verification_rate_limit
        PASS [  16.322s] ( 643/1486) api::bin/api-server database::accounts::tests::test_set_admin_status_case_insensitive
        PASS [  16.621s] ( 644/1486) api::bin/api-server database::accounts::tests::test_list_all_accounts_includes_admin_status
        PASS [  16.841s] ( 645/1486) api::bin/api-server database::accounts::tests::test_list_admins_empty
        PASS [  16.841s] ( 646/1486) api::bin/api-server database::accounts::tests::test_list_all_accounts
        PASS [  17.097s] ( 647/1486) api::bin/api-server database::accounts::tests::test_list_admins
        PASS [   0.023s] ( 648/1486) api::bin/api-server database::agent_delegations::export_bindings_agentdelegation
        PASS [   0.019s] ( 649/1486) api::bin/api-server database::agent_delegations::export_bindings_agentstatus
        PASS [   0.019s] ( 650/1486) api::bin/api-server database::agent_delegations::tests::test_permission_json
        PASS [  15.536s] ( 651/1486) api::bin/api-server database::accounts::tests::test_set_admin_status_nonexistent_account
        PASS [   0.031s] ( 652/1486) api::bin/api-server database::agent_delegations::tests::test_permission_roundtrip
        PASS [  16.664s] ( 653/1486) api::bin/api-server database::accounts::tests::test_max_keys_limit
        PASS [   0.033s] ( 654/1486) api::bin/api-server database::agent_pools::export_bindings_agentpoolwithstats
        PASS [   0.035s] ( 655/1486) api::bin/api-server database::agent_pools::export_bindings_agentpool
        PASS [  16.442s] ( 656/1486) api::bin/api-server database::accounts::tests::test_set_admin_status_grant
        PASS [  16.597s] ( 657/1486) api::bin/api-server database::accounts::tests::test_oauth_linking_to_existing_account_sets_email_verified
        PASS [   0.028s] ( 658/1486) api::bin/api-server database::agent_pools::export_bindings_setuptoken
        PASS [  16.629s] ( 659/1486) api::bin/api-server database::accounts::tests::test_oauth_account_with_keys_has_verified_email
        PASS [  16.592s] ( 660/1486) api::bin/api-server database::accounts::tests::test_oauth_session_key_can_lookup_account
        PASS [  16.460s] ( 661/1486) api::bin/api-server database::accounts::tests::test_set_admin_status_revoke
        PASS [  19.747s] ( 662/1486) api::bin/api-server database::accounts::tests::test_username_search_is_case_insensitive
        PASS [  19.739s] ( 663/1486) api::bin/api-server database::bandwidth::tests::test_bandwidth_history
        PASS [  19.763s] ( 664/1486) api::bin/api-server database::chatwoot::tests::test_get_provider_avg_response_time_no_data
        PASS [  19.760s] ( 665/1486) api::bin/api-server database::chatwoot::tests::test_get_response_time_distribution_no_data
        PASS [  19.885s] ( 666/1486) api::bin/api-server database::accounts::tests::test_verify_email_token_invalid
        PASS [   0.110s] ( 667/1486) api::bin/api-server database::contracts::export_bindings_contract
        PASS [   0.066s] ( 668/1486) api::bin/api-server database::contracts::export_bindings_contractusage
        PASS [  19.944s] ( 669/1486) api::bin/api-server database::accounts::tests::test_verify_email_token_success
        PASS [  20.131s] ( 670/1486) api::bin/api-server database::accounts::tests::test_signature_audit_cleanup
        PASS [   0.021s] ( 671/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_90_percent_remaining
        PASS [   0.024s] ( 672/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_full_refund_before_service_start
        PASS [   0.017s] ( 673/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_missing_end_timestamp
        PASS [   0.033s] ( 674/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_half_used
        PASS [   0.018s] ( 675/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_service_never_started
        PASS [   0.019s] ( 676/1486) api::bin/api-server database::contracts::tests::test_calculate_prorated_refund_no_refund_after_end
        PASS [  19.880s] ( 677/1486) api::bin/api-server database::chatwoot::tests::test_insert_chatwoot_message_event
        PASS [  20.042s] ( 678/1486) api::bin/api-server database::accounts::tests::test_verify_email_token_already_used
        PASS [  19.922s] ( 679/1486) api::bin/api-server database::chatwoot::tests::test_get_provider_response_metrics_no_data
        PASS [  19.974s] ( 680/1486) api::bin/api-server database::agent_pools::tests::test_offerings_count_explicit_override_auto_match
        PASS [  19.999s] ( 681/1486) api::bin/api-server database::agent_pools::tests::test_list_agent_pools_with_stats_offerings_count
        PASS [  20.171s] ( 682/1486) api::bin/api-server database::accounts::tests::test_verify_email_token_expired
        PASS [  20.049s] ( 683/1486) api::bin/api-server database::bandwidth::tests::test_get_provider_bandwidth_stats
        PASS [  20.405s] ( 684/1486) api::bin/api-server database::accounts::tests::test_usernames_preserve_case_but_unique_case_insensitive
        PASS [   7.691s] ( 685/1486) api::bin/api-server database::chatwoot::tests::test_insert_chatwoot_message_event_duplicate
        PASS [  19.350s] ( 686/1486) api::bin/api-server database::chatwoot::tests::test_mark_sla_breached
        PASS [  19.092s] ( 687/1486) api::bin/api-server database::contracts::tests::test_add_provisioning_details_extracts_gateway_fields
        PASS [  19.006s] ( 688/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_icpay_with_released_amount
        PASS [  19.063s] ( 689/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_icpay_no_payment_id
        PASS [  18.986s] ( 690/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_rejects_provider_cancellation
        PASS [  18.926s] ( 691/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_stripe_payment_without_client
        PASS [  19.071s] ( 692/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_icpay_refund_calculation
        PASS [  16.697s] ( 693/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_success_requested
        PASS [  18.985s] ( 694/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_rejects_unauthorized_user
        PASS [  19.129s] ( 695/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_not_found_includes_hex_id
        PASS [  19.282s] ( 696/1486) api::bin/api-server database::contracts::tests::test_add_provisioning_details_persists_connection_info
        PASS [  19.408s] ( 697/1486) api::bin/api-server database::contracts::tests::test_add_provisioning_details_handles_missing_gateway_fields
        PASS [  19.311s] ( 698/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_invalid_status
        PASS [  19.356s] ( 699/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_fails_for_non_cancellable_statuses
        PASS [  19.021s] ( 700/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_success_all_cancellable_statuses
        PASS [  19.376s] ( 701/1486) api::bin/api-server database::contracts::tests::test_cancel_active_contract_with_prorated_refund
        PASS [  17.630s] ( 702/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_with_icpay_payment_no_refund
        PASS [  17.597s] ( 703/1486) api::bin/api-server database::contracts::tests::test_cleanup_expired_provisioning_locks
        PASS [  17.286s] ( 704/1486) api::bin/api-server database::contracts::tests::test_get_contract_returns_cancelled_status
        PASS [  17.569s] ( 705/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_invalid_payment_method
        PASS [  17.761s] ( 706/1486) api::bin/api-server database::contracts::tests::test_cancel_contract_unauthorized
        PASS [  17.356s] ( 707/1486) api::bin/api-server database::contracts::tests::test_get_contract_not_found
        PASS [  17.495s] ( 708/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_with_stripe_payment_method
        PASS [  17.457s] ( 709/1486) api::bin/api-server database::contracts::tests::test_get_contract_by_id
        PASS [  17.413s] ( 710/1486) api::bin/api-server database::contracts::tests::test_get_contract_by_id_not_found
        PASS [  17.701s] ( 711/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_offering_not_found
        PASS [  17.744s] ( 712/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_eur_stripe
        PASS [  17.453s] ( 713/1486) api::bin/api-server database::contracts::tests::test_get_contract_returns_end_timestamp_for_active
        PASS [  17.744s] ( 714/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_success
        PASS [  17.799s] ( 715/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_calculates_price
        PASS [  17.677s] ( 716/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_with_icpay_payment_method
        PASS [  17.895s] ( 717/1486) api::bin/api-server database::contracts::tests::test_create_rental_request_with_defaults
        PASS [  16.178s] ( 718/1486) api::bin/api-server database::contracts::tests::test_get_contract_returns_end_timestamp_for_expired
        PASS [  16.093s] ( 719/1486) api::bin/api-server database::contracts::tests::test_get_provider_contracts
        PASS [  16.170s] ( 720/1486) api::bin/api-server database::contracts::tests::test_get_contract_returns_provider_pubkey
        PASS [  16.084s] ( 721/1486) api::bin/api-server database::contracts::tests::test_get_user_contracts_empty
        PASS [   0.017s] ( 722/1486) api::bin/api-server database::email::tests::test_calculate_backoff_secs
        PASS [  16.203s] ( 723/1486) api::bin/api-server database::contracts::tests::test_get_pending_termination_contracts
        PASS [  16.128s] ( 724/1486) api::bin/api-server database::contracts::tests::test_mark_contract_terminated
        PASS [  16.044s] ( 725/1486) api::bin/api-server database::contracts::tests::test_provisioning_lock_race_condition
        PASS [  16.110s] ( 726/1486) api::bin/api-server database::contracts::tests::test_payment_status_icpay_payment_succeeds_immediately
        PASS [  16.183s] ( 727/1486) api::bin/api-server database::contracts::tests::test_list_contracts_pagination
        PASS [  16.121s] ( 728/1486) api::bin/api-server database::contracts::tests::test_payment_status_stripe_payment_starts_pending
        PASS [  16.092s] ( 729/1486) api::bin/api-server database::contracts::tests::test_try_auto_accept_contract_disabled
        PASS [  16.318s] ( 730/1486) api::bin/api-server database::contracts::tests::test_get_pending_provider_contracts
        PASS [  16.145s] ( 731/1486) api::bin/api-server database::contracts::tests::test_provisioning_lock_expiration
        PASS [  15.985s] ( 732/1486) api::bin/api-server database::contracts::tests::test_try_auto_accept_contract_enabled
        PASS [  16.237s] ( 733/1486) api::bin/api-server database::contracts::tests::test_mark_contract_terminated_not_cancelled
        PASS [  16.368s] ( 734/1486) api::bin/api-server database::contracts::tests::test_get_user_contracts
        PASS [  13.081s] ( 735/1486) api::bin/api-server database::email::tests::test_get_emails_needing_retry_notification
        PASS [  13.217s] ( 736/1486) api::bin/api-server database::email::tests::test_emails_without_related_account_not_in_notification_queries
        PASS [  13.191s] ( 737/1486) api::bin/api-server database::email::tests::test_get_email_stats_accuracy
        PASS [  13.265s] ( 738/1486) api::bin/api-server database::contracts::tests::test_update_contract_status_records_history
        PASS [  13.121s] ( 739/1486) api::bin/api-server database::email::tests::test_get_pending_emails_excludes_failed
        PASS [  13.068s] ( 740/1486) api::bin/api-server database::email::tests::test_mark_email_failed
        PASS [  13.178s] ( 741/1486) api::bin/api-server database::email::tests::test_get_pending_emails_limit
        PASS [  13.156s] ( 742/1486) api::bin/api-server database::email::tests::test_mark_email_permanently_failed
        PASS [  13.291s] ( 743/1486) api::bin/api-server database::email::tests::test_get_emails_needing_gave_up_notification
        PASS [  13.425s] ( 744/1486) api::bin/api-server database::contracts::tests::test_try_auto_accept_contract_idempotent
        PASS [  13.339s] ( 745/1486) api::bin/api-server database::email::tests::test_get_email_stats_empty
        PASS [  13.308s] ( 746/1486) api::bin/api-server database::email::tests::test_get_pending_emails
        PASS [  13.254s] ( 747/1486) api::bin/api-server database::email::tests::test_get_sent_emails
        PASS [  13.310s] ( 748/1486) api::bin/api-server database::email::tests::test_get_pending_emails_empty
        PASS [  13.182s] ( 749/1486) api::bin/api-server database::email::tests::test_mark_email_sent
        PASS [   0.029s] ( 750/1486) api::bin/api-server database::migration_tests::test_migration_path_from_crate_root
        PASS [  13.488s] ( 751/1486) api::bin/api-server database::contracts::tests::test_update_contract_status_rejects_non_provider
        PASS [   0.054s] ( 752/1486) api::bin/api-server database::migration_tests::test_migration_approaches_are_equivalent
        PASS [   0.021s] ( 753/1486) api::bin/api-server database::migration_tests::test_sqlx_offline_mode_data_exists
        FAIL [   0.052s] ( 754/1486) api::bin/api-server database::migration_tests::test_migrations_via_database_new
  stdout ───

    running 1 test
    test database::migration_tests::test_migrations_via_database_new ... FAILED

    failures:

    failures:
        database::migration_tests::test_migrations_via_database_new

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 674 filtered out; finished in 0.03s

  stderr ───

    thread 'database::migration_tests::test_migrations_via_database_new' (4064583) panicked at /home/sat/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/testing/mod.rs:226:14:
    failed to connect to setup test database: Io(Custom { kind: Uncategorized, error: "failed to lookup address information: Name or service not known" })
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

        PASS [  14.250s] ( 755/1486) api::bin/api-server database::email::tests::test_queue_email
        PASS [   0.025s] ( 756/1486) api::bin/api-server database::offerings::export_bindings_offering
        PASS [   0.033s] ( 757/1486) api::bin/api-server database::offerings::tests::export_typescript_types
        PASS [  14.534s] ( 758/1486) api::bin/api-server database::email::tests::test_queue_email_safe_with_none_address
        PASS [  14.530s] ( 759/1486) api::bin/api-server database::email::tests::test_queue_email_with_account
        PASS [  14.724s] ( 760/1486) api::bin/api-server database::email::tests::test_mark_gave_up_notified
        PASS [  14.604s] ( 761/1486) api::bin/api-server database::email::tests::test_queue_html_email
        PASS [  14.521s] ( 762/1486) api::bin/api-server database::email::tests::test_retry_all_failed_emails_none
        PASS [  14.461s] ( 763/1486) api::bin/api-server database::notification_config::tests::test_set_and_get_user_notification_config
        PASS [  14.685s] ( 764/1486) api::bin/api-server database::email::tests::test_queue_email_safe_with_valid_address
        PASS [  14.751s] ( 765/1486) api::bin/api-server database::email::tests::test_mark_retry_notified
        PASS [  14.579s] ( 766/1486) api::bin/api-server database::email::tests::test_retry_all_failed_emails_multiple
        PASS [  14.797s] ( 767/1486) api::bin/api-server database::notification_config::tests::test_get_user_notification_config_not_exists
        PASS [  15.030s] ( 768/1486) api::bin/api-server database::email::tests::test_reset_email_for_retry_success
        PASS [  15.120s] ( 769/1486) api::bin/api-server database::email::tests::test_retry_all_failed_emails_excludes_pending_and_sent
        PASS [  15.363s] ( 770/1486) api::bin/api-server database::email::tests::test_reset_email_for_retry_not_found
        PASS [  15.255s] ( 771/1486) api::bin/api-server database::notification_config::tests::test_multi_channel_notifications
        PASS [  15.353s] ( 772/1486) api::bin/api-server database::notification_config::tests::test_update_existing_notification_config
        PASS [  14.978s] ( 773/1486) api::bin/api-server database::offerings::tests::test_bulk_update_stock_status_empty
        PASS [  14.596s] ( 774/1486) api::bin/api-server database::offerings::tests::test_create_offering_success
        PASS [  14.283s] ( 775/1486) api::bin/api-server database::offerings::tests::test_csv_import_gpu_fields
        PASS [  14.583s] ( 776/1486) api::bin/api-server database::offerings::tests::test_create_yearly_subscription_offering
        PASS [  14.074s] ( 777/1486) api::bin/api-server database::offerings::tests::test_csv_import_unauthorized
        PASS [  13.867s] ( 778/1486) api::bin/api-server database::offerings::tests::test_csv_import_upsert
        PASS [  14.186s] ( 779/1486) api::bin/api-server database::offerings::tests::test_csv_import_success
        PASS [  13.858s] ( 780/1486) api::bin/api-server database::offerings::tests::test_csv_import_with_errors
        PASS [  13.740s] ( 781/1486) api::bin/api-server database::offerings::tests::test_delete_offering_success
        PASS [  14.688s] ( 782/1486) api::bin/api-server database::offerings::tests::test_count_offerings_no_filters
        PASS [  14.830s] ( 783/1486) api::bin/api-server database::offerings::tests::test_bulk_update_stock_status_success
        PASS [  14.616s] ( 784/1486) api::bin/api-server database::offerings::tests::test_csv_import_column_order_independence
        PASS [  14.670s] ( 785/1486) api::bin/api-server database::offerings::tests::test_create_offering_missing_required_fields
        PASS [  14.685s] ( 786/1486) api::bin/api-server database::offerings::tests::test_create_subscription_offering
        PASS [  14.710s] ( 787/1486) api::bin/api-server database::offerings::tests::test_create_offering_duplicate_id
        PASS [  14.858s] ( 788/1486) api::bin/api-server database::offerings::tests::test_bulk_update_stock_status_unauthorized
        PASS [  16.237s] ( 789/1486) api::bin/api-server database::offerings::tests::test_get_provider_offerings
        PASS [  16.350s] ( 790/1486) api::bin/api-server database::offerings::tests::test_get_provider_offerings_no_matching_pool
        PASS [  16.359s] ( 791/1486) api::bin/api-server database::offerings::tests::test_import_seeded_offerings_csv_with_external_checkout_url
        PASS [  16.422s] ( 792/1486) api::bin/api-server database::offerings::tests::test_get_provider_offerings_with_explicit_pool_id
        PASS [  16.370s] ( 793/1486) api::bin/api-server database::offerings::tests::test_search_offerings_by_country
        PASS [  16.450s] ( 794/1486) api::bin/api-server database::offerings::tests::test_get_provider_offerings_empty
        PASS [  16.473s] ( 795/1486) api::bin/api-server database::offerings::tests::test_get_offering_not_found
        PASS [  16.544s] ( 796/1486) api::bin/api-server database::offerings::tests::test_get_provider_offerings_with_resolved_pool
        PASS [  16.617s] ( 797/1486) api::bin/api-server database::offerings::tests::test_get_offering_by_id
        PASS [  16.602s] ( 798/1486) api::bin/api-server database::offerings::tests::test_import_seeded_offerings_csv_upsert
        PASS [  16.612s] ( 799/1486) api::bin/api-server database::offerings::tests::test_import_seeded_offerings_csv
        PASS [  16.670s] ( 800/1486) api::bin/api-server database::offerings::tests::test_duplicate_offering_unauthorized
        PASS [  16.689s] ( 801/1486) api::bin/api-server database::offerings::tests::test_duplicate_offering_success
        PASS [  16.709s] ( 802/1486) api::bin/api-server database::offerings::tests::test_delete_offering_unauthorized
        PASS [  16.647s] ( 803/1486) api::bin/api-server database::offerings::tests::test_get_subscription_offering_fields
        PASS [  16.658s] ( 804/1486) api::bin/api-server database::offerings::tests::test_one_time_offering_default_subscription_fields
        PASS [  14.343s] ( 805/1486) api::bin/api-server database::offerings::tests::test_search_offerings_min_price_filter
        PASS [  14.750s] ( 806/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_combined_filters
        PASS [  14.674s] ( 807/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_excludes_private
        PASS [  14.668s] ( 808/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_invalid_query
        PASS [  14.490s] ( 809/1486) api::bin/api-server database::offerings::tests::test_search_offerings_no_filters
        PASS [   0.030s] ( 810/1486) api::bin/api-server database::providers::export_bindings_externalprovider
        PASS [   0.032s] ( 811/1486) api::bin/api-server database::providers::export_bindings_provideronboarding
        PASS [  14.552s] ( 812/1486) api::bin/api-server database::offerings::tests::test_search_offerings_filters_by_pool_existence
        PASS [  14.795s] ( 813/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_comparison_operators
        PASS [  14.765s] ( 814/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_empty_query
        PASS [   0.068s] ( 815/1486) api::bin/api-server database::providers::export_bindings_providerprofile
        PASS [  14.647s] ( 816/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_price_range
        PASS [   0.055s] ( 817/1486) api::bin/api-server database::providers::export_bindings_validator
        PASS [  14.960s] ( 818/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_basic_type_filter
        PASS [  14.592s] ( 819/1486) api::bin/api-server database::offerings::tests::test_search_offerings_max_price_filter
        PASS [  14.655s] ( 820/1486) api::bin/api-server database::offerings::tests::test_search_offerings_excludes_private
        PASS [  14.599s] ( 821/1486) api::bin/api-server database::offerings::tests::test_search_offerings_pagination
        PASS [   0.084s] ( 822/1486) api::bin/api-server database::providers::tests::export_typescript_types
        PASS [  14.868s] ( 823/1486) api::bin/api-server database::offerings::tests::test_search_offerings_dsl_pagination
        PASS [  14.696s] ( 824/1486) api::bin/api-server database::offerings::tests::test_search_offerings_price_range
        PASS [  14.657s] ( 825/1486) api::bin/api-server database::offerings::tests::test_search_offerings_price_range_both
        PASS [  16.405s] ( 826/1486) api::bin/api-server database::offerings::tests::test_update_offering_success
        PASS [  16.105s] ( 827/1486) api::bin/api-server database::reseller::tests::test_create_reseller_relationship_invalid_commission
        PASS [  16.251s] ( 828/1486) api::bin/api-server database::reseller::tests::test_create_reseller_relationship
        PASS [  16.296s] ( 829/1486) api::bin/api-server database::recovery::tests::test_complete_recovery_token_used_twice
        PASS [  16.306s] ( 830/1486) api::bin/api-server database::providers::tests::test_external_provider_unique_domain
        PASS [  16.153s] ( 831/1486) api::bin/api-server database::reseller::tests::test_delete_nonexistent_relationship
        PASS [  16.278s] ( 832/1486) api::bin/api-server database::reseller::tests::test_create_reseller_order
        PASS [  16.321s] ( 833/1486) api::bin/api-server database::providers::tests::test_update_provider_onboarding_creates_new_profile
        PASS [   0.024s] ( 834/1486) api::bin/api-server database::stats::export_bindings_accountsearchresult
        PASS [  16.334s] ( 835/1486) api::bin/api-server database::providers::tests::test_update_external_provider
        PASS [  16.316s] ( 836/1486) api::bin/api-server database::recovery::tests::test_create_recovery_token
        PASS [   0.031s] ( 837/1486) api::bin/api-server database::stats::export_bindings_platformstats
        PASS [   0.031s] ( 838/1486) api::bin/api-server database::stats::export_bindings_providertrustmetrics
        PASS [  16.381s] ( 839/1486) api::bin/api-server database::providers::tests::test_create_external_provider
        PASS [   0.044s] ( 840/1486) api::bin/api-server database::stats::tests::export_typescript_types
        PASS [  16.355s] ( 841/1486) api::bin/api-server database::recovery::tests::test_create_recovery_token_no_email
        PASS [  16.398s] ( 842/1486) api::bin/api-server database::providers::tests::test_update_provider_onboarding_updates_existing_profile
        PASS [  16.241s] ( 843/1486) api::bin/api-server database::reseller::tests::test_delete_reseller_relationship
        PASS [  16.440s] ( 844/1486) api::bin/api-server database::recovery::tests::test_complete_recovery
        PASS [  16.553s] ( 845/1486) api::bin/api-server database::offerings::tests::test_update_offering_unauthorized
